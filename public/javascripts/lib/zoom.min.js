!function(a){function b(b){function c(){function b(a){g.html(a),a.show(),g.removeClass("imgloading")}var c=a(this),d=parseInt(g.css("borderLeftWidth")),e=k-2*d,f=l-2*d,h=c.width(),i=c.height();if(h==g.width()&&e>=h&&i==g.height()&&f>=i)return void b(c);if(h>e||i>f){var j=i>f?f:i,m=h>e?e:h;m/h>=j/i?(c.width(Math.round(h*j/i)),c.height(j)):(c.width(m),c.height(Math.round(i*m/h)))}g.animate({width:c.width(),height:c.height(),marginTop:-(c.height()/2)-d,marginLeft:-(c.width()/2)-d},100,function(){b(c)})}b&&b.preventDefault();var d=a(this),m=d.attr("href");if(m){i||(i=!0,f.show(),e.addClass("zoomed"));var n=a(new Image).hide().css({width:"auto"});e.append(n),g.html("").delay(500).addClass("imgloading"),g.prepend(h),n.load(c).attr("src",m),j=d}}function c(a){a&&a.preventDefault(),i=!1,j=null,f.hide(),e.removeClass("zoomed"),g.empty()}function d(){k=a(window).width(),l=a(window).height()}var e=a("body");e.append('<div id="zoom"><a class="close"></a><div class="content imgloading"></div></div>');var f=a("#zoom").hide(),g=a("#zoom .content"),h='<div class="overlay"></div>',i=!1,j=null,k=a(window).width(),l=a(window).height();!function(){f.on("click",function(b){b.preventDefault(),"zoom"==a(b.target).attr("id")&&c()}),a("#zoom .close").on("click",c),a(document).keydown(function(a){j&&((38==a.which||40==a.which)&&a.preventDefault(),27==a.which&&c())}),a(".articleitem .article_msg_content a,.articleitem .msg_content a").on("click",b)}(),function(){a(window).on("resize",d)}(),function(){a(window).on("mousewheel DOMMouseScroll",function(a){j&&(a.stopPropagation(),a.preventDefault(),a.cancelBubble=!1)})}()}(jQuery);